<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="utf-8"> 
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="Michael" />
        <meta name="copyright" content="Michael" />

        <meta property="og:type" content="article" />
        <meta name="twitter:card" content="summary">

<meta name="keywords" content=", AS3, " />

<meta property="og:title" content="AS3 MadComponents Tutorial Series - Separation of Concerns "/>
<meta property="og:url" content="/as3-madcomponents-tutorial-series-separation-of-concerns.html" />
<meta property="og:description" content="Best practices for programming tell us separation of concerns, encapsulation and modularity are desirable in most, but not all, application contexts. A complex app with many views and/or items could quickly get out of control in a plethora of ways within the monolithic class context. The project I&#39;m ..." />
<meta property="og:site_name" content="Caffeine Industries" />
<meta property="og:article:author" content="Michael" />
<meta property="og:article:published_time" content="2011-09-04T16:42:00-07:00" />
<meta name="twitter:title" content="AS3 MadComponents Tutorial Series - Separation of Concerns ">
<meta name="twitter:description" content="Best practices for programming tell us separation of concerns, encapsulation and modularity are desirable in most, but not all, application contexts. A complex app with many views and/or items could quickly get out of control in a plethora of ways within the monolithic class context. The project I&#39;m ...">

        <title>AS3 MadComponents Tutorial Series - Separation of Concerns  · Caffeine Industries
</title>
        <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">
        <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.1/css/font-awesome.css" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="/theme/css/pygments.css" media="screen">
        <link rel="stylesheet" type="text/css" href="/theme/tipuesearch/tipuesearch.css" media="screen">
        <link rel="stylesheet" type="text/css" href="/theme/css/elegant.css" media="screen">
        <link rel="stylesheet" type="text/css" href="/theme/css/custom.css" media="screen">
    </head>
    <body>
        <div id="content-sans-footer">
        <div class="navbar navbar-static-top">
            <div class="navbar-inner">
                <div class="container-fluid">
                    <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </a>
                    <a class="brand" href="/"><span class=site-name>Caffeine Industries</span></a>
                    <div class="nav-collapse collapse">
                        <ul class="nav pull-right top-menu">
                            <li ><a href="">Home</a></li>
                            <li ><a href="/categories.html">Categories</a></li>
                            <li ><a href="/tags.html">Tags</a></li>
                            <li ><a href="/archives.html">Archives</a></li>
                            <li><form class="navbar-search" action="/search.html" onsubmit="return validateForm(this.elements['q'].value);"> <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="container-fluid">
            <div class="row-fluid">
                <div class="span1"></div>
                <div class="span10">
<article>
<div class="row-fluid">
    <header class="page-header span10 offset2">
    <h1><a href="/as3-madcomponents-tutorial-series-separation-of-concerns.html"> AS3 MadComponents Tutorial Series - Separation of Concerns  </a></h1>
    </header>
</div>

<div class="row-fluid">
        <div class="span8 offset2 article-content">

            
            <p>Best practices for programming tell us separation of concerns,
encapsulation and modularity are desirable in most, but not all,
application contexts. A complex app with many views and/or items could
quickly get out of control in a plethora of ways within
the monolithic class context.</p>
<p>The project I'm working on has nearly 50 separate views and consist of
mostly textual data. So my first task was learning the method(s) to
separate class files the
<a href="http://code.google.com/p/mad-components/">MadComponent</a>way. This
example will be quite simple but will illustrate how one would go about
using different AS class files to separate concerns.</p>
<p><span style="text-decoration: underline;"><strong>User Story:</strong></span> A list
based component is chosen by the user. This item navigates to a
"details" page or another component with more data.</p>
<p><strong>Lets build the "landing page" or main application page;</strong></p>
<p>First the XML layout:</p>
<div class="highlight"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="n">SeparateClassExample</span> <span class="kd">extends</span> <span class="n">Sprite</span><span class="o">{</span>

        <span class="kd">protected</span> <span class="kd">static</span> <span class="kd">const</span> <span class="n">DATA</span><span class="p">:</span><span class="kt">XML</span> <span class="o">=</span>


            <span class="o">;</span>

        <span class="kd">protected</span> <span class="kd">static</span> <span class="kd">const</span> <span class="n">LIST</span><span class="p">:</span><span class="kt">XML</span> <span class="o">=</span>

    <span class="o">{</span><span class="n">DATA</span><span class="o">};</span>

        <span class="c1">//Important</span>
        <span class="kd">protected</span> <span class="kd">static</span> <span class="kd">const</span> <span class="n">NAVIGATION</span><span class="p">:</span><span class="kt">XML</span> <span class="o">=</span>

            <span class="o">{</span><span class="n">LIST</span><span class="o">}</span>
            <span class="o">{</span><span class="n">Page0</span><span class="o">.</span><span class="na">LAYOUT</span><span class="o">}</span>
            <span class="o">{</span><span class="n">Page1</span><span class="o">.</span><span class="na">LAYOUT</span><span class="o">}</span>
            <span class="o">;</span>

        <span class="kd">protected</span> <span class="kd">var</span> <span class="n">_uiNavigation</span><span class="p">:</span><span class="kt">UINavigation</span><span class="o">;</span>
<span class="err">```</span>
</pre></div>


<p>The DATA constant simply defines the items that will populate the list.
The LIST constant accepts the DATA constant and applies some basic
formatting, Ie. colour (note the UK spelling). We also implement the
search feature here which will filter the list based on the item's
label. (I have experimented with different search methods, but have been
unsuccessful thus far... we will explore this later).</p>
<p>The NAVIGATION constant is actually the heart and soul of this simple
app. You can think of the NAVIGATION constant as an Array of data that
you define in XML and classes. As my astute readers will probably note
based on a quick glance. We haven't defined Page0, Page1 and you can't
spot LAYOUT anywhere. These are defined separate class files, although
not completely necessary, it helps me keep things organized.</p>
<p>We declare the _uiNavigation instance or class level variable which
we'll define in subsequent steps.</p>
<p><strong>Lets move on to the constructor:</strong></p>
<div class="highlight"><pre><span class="kd">public</span> <span class="kd">function </span><span class="nf">SeparateClassExample</span><span class="o">(</span><span class="n">screen</span><span class="o">:</span><span class="kt">Sprite</span> <span class="o">=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>

            <span class="k">if</span> <span class="o">(</span><span class="n">screen</span><span class="o">){</span>
                <span class="n">screen</span><span class="o">.</span><span class="na">addChild</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
            <span class="o">}</span>
            <span class="c1">// support autoOrients</span>
            <span class="n">stage</span><span class="o">.</span><span class="na">align</span> <span class="o">=</span> <span class="n">StageAlign</span><span class="o">.</span><span class="na">TOP_LEFT</span><span class="o">;</span>
            <span class="n">stage</span><span class="o">.</span><span class="na">scaleMode</span> <span class="o">=</span> <span class="n">StageScaleMode</span><span class="o">.</span><span class="na">NO_SCALE</span><span class="o">;</span>

            <span class="c1">// Create the main UI or &quot;Landing Page&quot;</span>
            <span class="n">UI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">NAVIGATION</span><span class="o">);</span>

            <span class="c1">// Initialize &quot;views&quot;</span>
            <span class="n">Page0</span><span class="o">.</span><span class="na">initialize</span><span class="o">();</span>
            <span class="n">Page1</span><span class="o">.</span><span class="na">initialize</span><span class="o">();</span>

            <span class="c1">// Navigation layout and behaviour </span>
            <span class="n">_uiNavigation</span> <span class="o">=</span> <span class="n">UINavigation</span><span class="o">(</span><span class="n">UI</span><span class="o">.</span><span class="na">findViewById</span><span class="o">(</span><span class="s2">&quot;nav&quot;</span><span class="o">));</span>
            <span class="n">_uiNavigation</span><span class="o">.</span><span class="na">autoForward</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>

            <span class="c1">// Must set to false otherwise the app scrolls through all the pages in the &quot;stack&quot;</span>
            <span class="n">_uiNavigation</span><span class="o">.</span><span class="na">autoBack</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>

            <span class="c1">// Go to the &quot;page&quot; requested</span>
            <span class="n">_uiNavigation</span><span class="o">.</span><span class="na">addEventListener</span><span class="o">(</span><span class="n">UIList</span><span class="o">.</span><span class="na">CLICKED</span><span class="o">,</span> <span class="n">navigationChange</span><span class="o">);</span>

            <span class="c1">// Go Back using the Nav bar back button</span>
            <span class="n">_uiNavigation</span><span class="o">.</span><span class="na">navigationBar</span><span class="o">.</span><span class="na">backButton</span><span class="o">.</span><span class="na">addEventListener</span><span class="o">(</span><span class="n">MouseEvent</span><span class="o">.</span><span class="na">MOUSE_UP</span><span class="o">,</span> <span class="n">goBack</span><span class="o">);</span>

            <span class="c1">// Go back using the hardware back button</span>
            <span class="n">_uiNavigation</span><span class="o">.</span><span class="na">addEventListener</span><span class="o">(</span><span class="n">KeyboardEvent</span><span class="o">.</span><span class="na">KEY_UP</span><span class="o">,</span> <span class="n">goBackButton</span><span class="o">);</span>
            <span class="n">_uiNavigation</span><span class="o">.</span><span class="na">navigationBar</span><span class="o">.</span><span class="na">backButton</span><span class="o">.</span><span class="na">colour</span> <span class="o">=</span> <span class="mi">999999</span><span class="o">;</span>
        <span class="o">}</span>
<span class="err">```</span>
</pre></div>


<p>The UI.create method instantiates the UI or "landing page" and all of
the code relating to the use of MadComponents must be implemented after
this method call. We initialize Page0 with a call to a public method
inside the Page0 class. This method can be named anything you like.</p>
<p>We then instantiate the _uiNavigation variable to the NAVIGATION
constant defined at the class level through the id we can name
arbitrarily. We can now programmatically add formatting, assign event
listeners and so forth to the _uiNavigation variable.</p>
<p>The first event listener UI.CLICKED will direct the navigation to the
"page" that is assigned to the index of the NAVIGATION constant. In this
case 0 is the list itself, while 1 and 2 will be Page0 and Page1
respectively.</p>
<p>The second event listener is assigned to the navigationBar.backButton
and is a simple MouseEvent.MOUSE_UP event. As you will see, this event
will handle the back button that is added to the navigation bar once we
have navigated away from the main list.</p>
<p>The third event listener is added to handle the device back button,
generally this is an Android device. I found through testing that if
autoBack is set to false, you lose back button functionality. In some
cases you may want the autoBack functionality, but its not appropriate
in this context as it will scroll through the stack of items defined in
the NAVIGATION constant. This event listener simply adds the devices
back button into the app.</p>
<p>Daniel is working on documentation as we speak, but a good starting
place to learn about the framework are the PDF(s) included on the
<a href="http://code.google.com/p/mad-components/downloads/list">download page</a>.
You can see what I've done to customize the _uiNavigation variable
based on the comments added into the code.</p>
<p><strong>Now lets handle the events we declared in the constructor:</strong></p>
<div class="highlight"><pre><span class="kd">public</span> <span class="kd">function </span><span class="nf">navigationChange</span><span class="o">(</span><span class="n">event</span><span class="o">:</span><span class="kt">Event</span><span class="o">):</span><span class="kt">void</span> <span class="o">{</span>

            <span class="kd">var</span> <span class="n">navIndex</span><span class="p">:</span><span class="kt">int</span> <span class="o">=</span> <span class="n">_uiNavigation</span><span class="o">.</span><span class="na">index</span><span class="o">;</span>
            <span class="c1">// Check to see if current page is @ 0 to set correct title</span>
            <span class="k">if</span><span class="o">(</span><span class="n">_uiNavigation</span><span class="o">.</span><span class="na">pages</span><span class="o">[</span><span class="mi">0</span><span class="o">]){</span>
                <span class="n">_uiNavigation</span><span class="o">.</span><span class="na">title</span> <span class="o">=</span> <span class="s2">&quot;Home&quot;</span><span class="o">;</span>
            <span class="o">}</span>

            <span class="c1">// navigation Stuff</span>
            <span class="k">if</span><span class="o">(</span><span class="n">navIndex</span> <span class="o">==</span> <span class="mi">0</span><span class="o">){</span>
                <span class="n">_uiNavigation</span><span class="o">.</span><span class="na">goToPage</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="n">UIPages</span><span class="o">.</span><span class="na">SLIDE_LEFT</span><span class="o">);</span>
                <span class="n">_uiNavigation</span><span class="o">.</span><span class="na">title</span> <span class="o">=</span> <span class="s2">&quot;Page 0&quot;</span><span class="o">;</span>
            <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">navIndex</span> <span class="o">==</span> <span class="mi">1</span><span class="o">){</span>
                <span class="n">_uiNavigation</span><span class="o">.</span><span class="na">goToPage</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="n">UIPages</span><span class="o">.</span><span class="na">SLIDE_LEFT</span><span class="o">);</span>
                <span class="n">_uiNavigation</span><span class="o">.</span><span class="na">title</span> <span class="o">=</span> <span class="s2">&quot;Page 1&quot;</span><span class="o">;</span>
            <span class="o">}</span>
        <span class="o">}</span>

        <span class="c1">// For the back button in the Navigation bar</span>
        <span class="kd">protected</span> <span class="kd">function </span><span class="nf">goBack</span><span class="o">(</span><span class="n">event</span><span class="o">:</span><span class="kt">Event</span><span class="o">):</span><span class="kt">void</span> <span class="o">{</span>

            <span class="n">_uiNavigation</span><span class="o">.</span><span class="na">goToPage</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="n">UIPages</span><span class="o">.</span><span class="na">SLIDE_RIGHT</span><span class="o">);</span>
            <span class="n">_uiNavigation</span><span class="o">.</span><span class="na">title</span> <span class="o">=</span> <span class="s2">&quot;Home&quot;</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="c1">// With autoBack set to false, you lose the device back button for some reason</span>
        <span class="c1">// You can use the Native App library to check for a device back button event</span>
        <span class="kd">protected</span> <span class="kd">function </span><span class="nf">goBackButton</span><span class="o">(</span><span class="n">event</span><span class="o">:</span><span class="kt">KeyboardEvent</span><span class="o">):</span><span class="kt">void</span><span class="o">{</span>

            <span class="k">if</span><span class="o">(</span><span class="n">event</span><span class="o">.</span><span class="na">keyCode</span> <span class="o">==</span> <span class="n">Keyboard</span><span class="o">.</span><span class="na">BACK</span><span class="o">){</span>
                <span class="n">_uiNavigation</span><span class="o">.</span><span class="na">goToPage</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="n">UIPages</span><span class="o">.</span><span class="na">SLIDE_RIGHT</span><span class="o">);</span>
                <span class="n">_uiNavigation</span><span class="o">.</span><span class="na">title</span> <span class="o">=</span> <span class="s2">&quot;Home&quot;</span><span class="o">;</span>
            <span class="o">}</span>
        <span class="o">}</span>       
    <span class="o">}</span>
<span class="o">}</span>
<span class="err">```</span>
</pre></div>


<p>In this example, I want the navigationChange event to take the user to
the page associated with the index they select. We let the gotoPage
method do all the heavy lifting and add a nice visual transition. Beyond
that the back button in the navigation bar and the device back button
(if available) simply takes the user back to the list. If you've
followed any of the tutorials mentioned in the starting out post, you
will not see anything surprising here. The exception is maybe the event
handler for the back button which is similar to the way one handles an
event on the decktop or web based flash application.</p>
<p>A little gotcha I found is when you don't explicitly set the title, the
navigation component will leave the previous title in the navigation bar
despite the change. Checking to make sure its set correctly just adds a
bit of polish.</p>
<p><strong>Now lets add the separate class "views" or Page0 and Page1:</strong></p>
<div class="highlight"><pre><span class="kd">package</span>
<span class="o">{</span>
    <span class="k">import</span> <span class="nn">com.danielfreeman.madcomponents.</span><span class="o">*;</span>

    <span class="k">import</span> <span class="nn">flash.display.Sprite</span><span class="o">;</span>
    <span class="k">import</span> <span class="nn">flash.display.StageAlign</span><span class="o">;</span>
    <span class="k">import</span> <span class="nn">flash.display.StageScaleMode</span><span class="o">;</span>
    <span class="k">import</span> <span class="nn">flash.events.Event</span><span class="o">;</span>
    <span class="k">import</span> <span class="nn">flash.system.Capabilities</span><span class="o">;</span>
    <span class="k">import</span> <span class="nn">flash.text.TextField</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">class</span> <span class="n">Page0</span> <span class="kd">extends</span> <span class="n">Sprite</span>
    <span class="o">{</span>

        <span class="kd">public</span> <span class="kd">static</span> <span class="kd">const</span> <span class="n">LAYOUT</span><span class="p">:</span><span class="kt">XML</span> <span class="o">=</span>

                <span class="o">;</span>

        <span class="kd">protected</span> <span class="kd">static</span> <span class="kd">var</span> <span class="n">_message</span><span class="p">:</span><span class="kt">UILabel</span><span class="o">;</span>

        <span class="kd">public</span> <span class="kd">function </span><span class="nf">Patient</span><span class="o">()</span>
        <span class="o">{</span>
            <span class="kd">super</span><span class="o">();</span>

        <span class="o">}</span>

        <span class="kd">public</span> <span class="kd">static</span> <span class="kd">function </span><span class="nf">initialize</span><span class="o">():</span><span class="kt">void</span><span class="o">{</span>
            <span class="n">_message</span> <span class="o">=</span> <span class="n">UILabel</span><span class="o">(</span><span class="n">UI</span><span class="o">.</span><span class="na">findViewById</span><span class="o">(</span><span class="s2">&quot;message0&quot;</span><span class="o">));</span>
            <span class="n">_message</span><span class="o">.</span><span class="na">htmlText</span> <span class="o">=</span> <span class="s2">&quot;App Considerations:Is it AWESOME?Are you going to BroGram? Sup?More Stuff&quot;</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
<span class="err">```</span>
</pre></div>


<p>This is a basic page layout using HTML text. LAYOUT is the constant we
call from within the NAVIGATION constant in the Main class as you've
seen. If I may direct your attention to the constructor, notice that
UI.create is not used here. In this case, we "instantiate" the layout
through the public initialize method mentioned earlier. Also note, ID's
for the components for each page need to be different. Ie. Page0 label
has an id of "message0". Page1 will need a label id of "message1" to
work as one would expect. Flash requires string literals to be on the
same line. In my working app this line is almost ridiculously long, no
need to worry as the text will render as you've defined.</p>
<p>This is the "MAIN" class in all its glory.</p>
<div class="highlight"><pre><span class="kd">package</span>
<span class="o">{</span>
    <span class="k">import</span> <span class="nn">com.danielfreeman.madcomponents.</span><span class="o">*;</span>

    <span class="k">import</span> <span class="nn">flash.desktop.NativeApplication</span><span class="o">;</span>
    <span class="k">import</span> <span class="nn">flash.display.Sprite</span><span class="o">;</span>
    <span class="k">import</span> <span class="nn">flash.display.StageAlign</span><span class="o">;</span>
    <span class="k">import</span> <span class="nn">flash.display.StageScaleMode</span><span class="o">;</span>
    <span class="k">import</span> <span class="nn">flash.events.Event</span><span class="o">;</span>
    <span class="k">import</span> <span class="nn">flash.events.KeyboardEvent</span><span class="o">;</span>
    <span class="k">import</span> <span class="nn">flash.events.MouseEvent</span><span class="o">;</span>
    <span class="k">import</span> <span class="nn">flash.ui.Keyboard</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">class</span> <span class="n">SeparateClassExample</span> <span class="kd">extends</span> <span class="n">Sprite</span><span class="o">{</span>

        <span class="kd">protected</span> <span class="kd">static</span> <span class="kd">const</span> <span class="n">DATA</span><span class="p">:</span><span class="kt">XML</span> <span class="o">=</span>


            <span class="o">;</span>

        <span class="kd">protected</span> <span class="kd">static</span> <span class="kd">const</span> <span class="n">LIST</span><span class="p">:</span><span class="kt">XML</span> <span class="o">=</span>

    <span class="o">{</span><span class="n">DATA</span><span class="o">};</span>

        <span class="c1">// Each additional &quot;Page&quot; needs to have different id&#39;s </span>
        <span class="c1">//for the components, even when they are separated into separate classes</span>
        <span class="kd">protected</span> <span class="kd">static</span> <span class="kd">const</span> <span class="n">NAVIGATION</span><span class="p">:</span><span class="kt">XML</span> <span class="o">=</span>

            <span class="o">{</span><span class="n">LIST</span><span class="o">}</span>
            <span class="o">{</span><span class="n">Page0</span><span class="o">.</span><span class="na">LAYOUT</span><span class="o">}</span>
            <span class="o">{</span><span class="n">Page1</span><span class="o">.</span><span class="na">LAYOUT</span><span class="o">}</span>
            <span class="o">;</span>

        <span class="kd">protected</span> <span class="kd">var</span> <span class="n">_uiNavigation</span><span class="p">:</span><span class="kt">UINavigation</span><span class="o">;</span>

        <span class="kd">public</span> <span class="kd">function </span><span class="nf">SeparateClassExample</span><span class="o">(</span><span class="n">screen</span><span class="o">:</span><span class="kt">Sprite</span> <span class="o">=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>

            <span class="k">if</span> <span class="o">(</span><span class="n">screen</span><span class="o">){</span>
                <span class="n">screen</span><span class="o">.</span><span class="na">addChild</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
            <span class="o">}</span>
            <span class="c1">// support autoOrients</span>
            <span class="n">stage</span><span class="o">.</span><span class="na">align</span> <span class="o">=</span> <span class="n">StageAlign</span><span class="o">.</span><span class="na">TOP_LEFT</span><span class="o">;</span>
            <span class="n">stage</span><span class="o">.</span><span class="na">scaleMode</span> <span class="o">=</span> <span class="n">StageScaleMode</span><span class="o">.</span><span class="na">NO_SCALE</span><span class="o">;</span>

            <span class="c1">// Create the main UI or &quot;Landing Page&quot;</span>
            <span class="n">UI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">NAVIGATION</span><span class="o">);</span>

            <span class="c1">// Initialize &quot;views&quot;</span>
            <span class="n">Page0</span><span class="o">.</span><span class="na">initialize</span><span class="o">();</span>
            <span class="n">Page1</span><span class="o">.</span><span class="na">initialize</span><span class="o">();</span>

            <span class="c1">// Navigation layout and behaviour </span>
            <span class="n">_uiNavigation</span> <span class="o">=</span> <span class="n">UINavigation</span><span class="o">(</span><span class="n">UI</span><span class="o">.</span><span class="na">findViewById</span><span class="o">(</span><span class="s2">&quot;nav&quot;</span><span class="o">));</span>
            <span class="n">_uiNavigation</span><span class="o">.</span><span class="na">autoForward</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>

            <span class="c1">// Must set to false otherwise the app scrolls through all the pages in the &quot;stack&quot;</span>
            <span class="n">_uiNavigation</span><span class="o">.</span><span class="na">autoBack</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>

            <span class="c1">// Go to the &quot;page&quot; requested</span>
            <span class="n">_uiNavigation</span><span class="o">.</span><span class="na">addEventListener</span><span class="o">(</span><span class="n">UIList</span><span class="o">.</span><span class="na">CLICKED</span><span class="o">,</span> <span class="n">navigationChange</span><span class="o">);</span>

            <span class="c1">// Go Back using the Nav bar back button</span>
            <span class="n">_uiNavigation</span><span class="o">.</span><span class="na">navigationBar</span><span class="o">.</span><span class="na">backButton</span><span class="o">.</span><span class="na">addEventListener</span><span class="o">(</span><span class="n">MouseEvent</span><span class="o">.</span><span class="na">MOUSE_UP</span><span class="o">,</span> <span class="n">goBack</span><span class="o">);</span>

            <span class="c1">// Go back using the hardware back button</span>
            <span class="n">_uiNavigation</span><span class="o">.</span><span class="na">addEventListener</span><span class="o">(</span><span class="n">KeyboardEvent</span><span class="o">.</span><span class="na">KEY_UP</span><span class="o">,</span> <span class="n">goBackButton</span><span class="o">);</span>
            <span class="n">_uiNavigation</span><span class="o">.</span><span class="na">navigationBar</span><span class="o">.</span><span class="na">backButton</span><span class="o">.</span><span class="na">colour</span> <span class="o">=</span> <span class="mi">999999</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="kd">function </span><span class="nf">navigationChange</span><span class="o">(</span><span class="n">event</span><span class="o">:</span><span class="kt">Event</span><span class="o">):</span><span class="kt">void</span> <span class="o">{</span>

            <span class="kd">var</span> <span class="n">navIndex</span><span class="p">:</span><span class="kt">int</span> <span class="o">=</span> <span class="n">_uiNavigation</span><span class="o">.</span><span class="na">index</span><span class="o">;</span>
            <span class="c1">// Check to see if current page is @ 0 to set correct title</span>
            <span class="k">if</span><span class="o">(</span><span class="n">_uiNavigation</span><span class="o">.</span><span class="na">pages</span><span class="o">[</span><span class="mi">0</span><span class="o">]){</span>
                <span class="n">_uiNavigation</span><span class="o">.</span><span class="na">title</span> <span class="o">=</span> <span class="s2">&quot;Home&quot;</span><span class="o">;</span>
            <span class="o">}</span>

            <span class="c1">// navigation Stuff</span>
            <span class="k">if</span><span class="o">(</span><span class="n">navIndex</span> <span class="o">==</span> <span class="mi">0</span><span class="o">){</span>
                <span class="n">_uiNavigation</span><span class="o">.</span><span class="na">goToPage</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="n">UIPages</span><span class="o">.</span><span class="na">SLIDE_LEFT</span><span class="o">);</span>
                <span class="n">_uiNavigation</span><span class="o">.</span><span class="na">title</span> <span class="o">=</span> <span class="s2">&quot;Page 0&quot;</span><span class="o">;</span>
            <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">navIndex</span> <span class="o">==</span> <span class="mi">1</span><span class="o">){</span>
                <span class="n">_uiNavigation</span><span class="o">.</span><span class="na">goToPage</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="n">UIPages</span><span class="o">.</span><span class="na">SLIDE_LEFT</span><span class="o">);</span>
                <span class="n">_uiNavigation</span><span class="o">.</span><span class="na">title</span> <span class="o">=</span> <span class="s2">&quot;Page 1&quot;</span><span class="o">;</span>
            <span class="o">}</span>
        <span class="o">}</span>

        <span class="c1">// For the back button in the Navigation bar</span>
        <span class="kd">protected</span> <span class="kd">function </span><span class="nf">goBack</span><span class="o">(</span><span class="n">event</span><span class="o">:</span><span class="kt">Event</span><span class="o">):</span><span class="kt">void</span> <span class="o">{</span>

            <span class="n">_uiNavigation</span><span class="o">.</span><span class="na">goToPage</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="n">UIPages</span><span class="o">.</span><span class="na">SLIDE_RIGHT</span><span class="o">);</span>
            <span class="n">_uiNavigation</span><span class="o">.</span><span class="na">title</span> <span class="o">=</span> <span class="s2">&quot;Home&quot;</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="c1">// With autoBack set to false, you lose the device back button for some reason</span>
        <span class="c1">// You can use the Native App library to check for a device back button event</span>
        <span class="kd">protected</span> <span class="kd">function </span><span class="nf">goBackButton</span><span class="o">(</span><span class="n">event</span><span class="o">:</span><span class="kt">KeyboardEvent</span><span class="o">):</span><span class="kt">void</span><span class="o">{</span>

            <span class="k">if</span><span class="o">(</span><span class="n">event</span><span class="o">.</span><span class="na">keyCode</span> <span class="o">==</span> <span class="n">Keyboard</span><span class="o">.</span><span class="na">BACK</span><span class="o">){</span>
                <span class="n">_uiNavigation</span><span class="o">.</span><span class="na">goToPage</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="n">UIPages</span><span class="o">.</span><span class="na">SLIDE_RIGHT</span><span class="o">);</span>
                <span class="n">_uiNavigation</span><span class="o">.</span><span class="na">title</span> <span class="o">=</span> <span class="s2">&quot;Home&quot;</span><span class="o">;</span>
            <span class="o">}</span>
        <span class="o">}</span>       
    <span class="o">}</span>
<span class="o">}</span>
<span class="o">}</span>
<span class="err">```</span>
</pre></div>
            
            
            <hr/>
        </div>
        <section>
        <div class="span2" style="float:right;font-size:0.9em;">
            <h4>Published</h4>
            <time pubdate="pubdate" datetime="2011-09-04T16:42:00-07:00">Sep 4, 2011</time>
            <h4>Category</h4>
            <a class="category-link" href="/categories.html#as3-ref">AS3</a>
<h4>Contact</h4>
    <a href="#" title="My You can add links in your config file Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-you can add links in your config file sidebar-social-links"></i></a>
    <a href="#" title="My Another social link Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-another social link sidebar-social-links"></i></a>
        </div>
        </section>
</div>
</article>
                </div>
                <div class="span1"></div>
            </div>
        </div>
        <div id="push"></div>
    </div>
<footer>
<div id="footer">
    <ul class="footer-content">
        <li class="elegant-power">Powered by <a href="http://getpelican.com/" title="Pelican Home Page">Pelican</a>. Theme: <a href="http://oncrashreboot.com/pelican-elegant" title="Theme Elegant Home Page">Elegant</a> by <a href="http://oncrashreboot.com" title="Talha Mansoor Home Page">Talha Mansoor</a></li>
    </ul>
</div>
</footer>            <script src="http://code.jquery.com/jquery.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>

    
    </body>
    <!-- Theme: Elegant built for Pelican
    License : http://oncrashreboot.com/pelican-elegant -->
</html>